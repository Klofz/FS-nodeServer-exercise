
----------------------------9
The tricky part here was to remember to install and add cors

npm install cors
const cors = require("cors");
app.use(cors());

so that I could use cross origin requests

I had to change the address of the requests in the front end

import axios from "axios";
const baseUrl = "http://localhost:3901/api/persons";

so that theid work but nothing magical
----------------------------10
here the tricky part is to remember to use the port enviroment variable

const PORT = process.env.PORT || 3901;

otherwise it wouldnt really work
----------------------------11
in this part, there is the need to change the baseURL

const OLDbaseUrl = "http://localhost:3901/api/person";
const baseUrl = "/api/persons";

but after that you have to add in vite.config.js

export default defineConfig({
  plugins: [react()],
  server: {
    proxy: {
      "/api": {
        target: "http://localhost:3901/",
        changeOrigin: true,
      },
    },
  },
});

the server proxy setting so that it still works in localhost
and then just make the scripts to make the build process

"build:ui": "rmdir /s /q distr && cd ../exercisebench && npm run build && xcopy /E /I dist ..\\exercise-node\\distr",
    "deploy:full": "npm run build:ui && git add . && git commit -m uibuild-updated && git push"

some .gitignore will include "ignore" dist for some reason

oh, almost forgot, you also need to add

app.use(express.static("distr"));

to the server so that when a request comes it first goes the see if that folder contains the resource that is being asked.
when you access the main URL "http://localhost:3901/", it asks for the index.html or other conventional files which will be answered by the folder in app.use(express.static("distr"));
----------------------------


